{"version":3,"file":"index.js","sources":["../src/js/local-storage-api.js","../src/js/refs.js","../src/js/render-tasks.js","../src/js/handlers.js","../src/main.js"],"sourcesContent":["const STORAGE_KEY = 'tasks';\nconst BODY = document.body;\n\nfunction getTasks() {\n  return JSON.parse(localStorage.getItem(STORAGE_KEY));\n}\n\nfunction saveTask(task) {\n  const tasks = getTasks();\n  tasks.push(task);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));\n}\n\nfunction initTasks() {\n  const tasks = getTasks() ?? [];\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));\n}\n\nfunction deleteTask(taskId) {\n  const tasks = getTasks();\n  1;\n  localStorage.setItem(\n    STORAGE_KEY,\n    JSON.stringify(tasks.filter(task => task.id !== taskId))\n  );\n}\n\nfunction getTheme() {\n  initTheme();\n  return localStorage.getItem('theme');\n}\n\nfunction initTheme() {\n  if (localStorage.getItem('theme')) {\n    return;\n  }\n  const theme = BODY.classList.contains('theme-dark')\n    ? 'theme-dark'\n    : 'theme-light';\n  localStorage.setItem('theme', theme);\n}\n\nfunction setTheme(theme) {\n  localStorage.setItem('theme', theme);\n}\n\nexport default {\n  getTasks,\n  saveTask,\n  initTasks,\n  deleteTask,\n  getTheme,\n  setTheme,\n};\n","export const refs = {\n  form: document.querySelector('#task-form'),\n  taskList: document.querySelector('#task-list'),\n  themeToggleBtn: document.querySelector('#themeToggle'),\n};\n","import { refs } from './refs';\n\nexport function renderTasks(tasks) {\n  const markup = tasks\n    .map(\n      ({ name, description, id }) =>\n        `<li class=\"task-list-item\">\n      <button class=\"task-list-item-btn\" data-id=\"${id}\">Delete</button>\n      <h3>${name}</h3>\n      <p>${description}</p>\n  </li>`\n    )\n    .join('');\n  refs.taskList.innerHTML = markup;\n}\n","import { nanoid } from 'nanoid';\nimport iziToast from 'izitoast';\nimport localStorageApi from './local-storage-api';\nimport { renderTasks } from './render-tasks';\n\nconst BODY = document.body;\n\nexport function onFormSubmit(e) {\n  e.preventDefault();\n  const { taskName, taskDescription } = e.target.elements;\n  const name = taskName.value.trim();\n  const description = taskDescription.value.trim();\n  if (!name || !description) {\n    showAlert();\n    return;\n  }\n  const task = {\n    name,\n    description,\n    id: nanoid(),\n  };\n  localStorageApi.saveTask(task);\n  const tasks = localStorageApi.getTasks();\n\n  renderTasks(tasks);\n  e.target.reset();\n}\n\nexport function onTaskDelete(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const taskId = e.target.dataset.id;\n  localStorageApi.deleteTask(taskId);\n  const tasks = localStorageApi.getTasks();\n  renderTasks(tasks);\n}\n\nexport function applyLocalTheme() {\n  const theme = localStorageApi.getTheme();\n  setThemeClass(theme);\n}\n\nfunction setThemeClass(theme) {\n  if (theme === 'theme-dark') {\n    BODY.classList.replace('theme-light', 'theme-dark');\n  } else {\n    BODY.classList.replace('theme-dark', 'theme-light');\n  }\n}\n\nexport function onThemeToggle() {\n  const isDark = BODY.classList.contains('theme-dark');\n  const newTheme = isDark ? 'theme-light' : 'theme-dark';\n  setThemeClass(newTheme);\n  localStorageApi.setTheme(newTheme);\n}\n\nfunction showAlert() {\n  iziToast.show({\n    message: 'Всі поля мають бути заповнені',\n    position: 'topRight',\n    messageColor: '#FFFFFF',\n    backgroundColor: '#EF4040',\n  });\n}\n","import {\n  onFormSubmit,\n  onTaskDelete,\n  applyLocalTheme,\n  onThemeToggle,\n} from './js/handlers';\nimport { refs } from './js/refs';\nimport localStorageApi from './js/local-storage-api';\nimport { renderTasks } from './js/render-tasks';\n\napplyLocalTheme();\nlocalStorageApi.initTasks();\nrenderTasks(localStorageApi.getTasks());\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.taskList.addEventListener('click', onTaskDelete);\nrefs.themeToggleBtn.addEventListener('click', onThemeToggle);\n"],"names":["STORAGE_KEY","BODY","getTasks","saveTask","task","tasks","initTasks","deleteTask","taskId","getTheme","initTheme","theme","setTheme","localStorageApi","refs","renderTasks","markup","name","description","id","onFormSubmit","taskName","taskDescription","showAlert","nanoid","onTaskDelete","applyLocalTheme","setThemeClass","onThemeToggle","newTheme","iziToast"],"mappings":"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"}